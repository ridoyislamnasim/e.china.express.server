
model Wallet {
  id            String        @id @default(cuid())
  userId        Int          
  name          String
  balance       Float         @default(0)
  dueAmount     Float         @default(0) 
  currency      Currency      
  
  status        WalletStatus  @default(active) 
  cardNumber    String        @unique
  expiryDate    String
  cvv           String
  
 
  monthlyLimit  Float
  category      String
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt


  user          User          @relation(fields: [userId], references: [id], onDelete: Cascade)
  transactions  Transaction[]

  @@index([userId])
}

enum WalletStatus {
  active
  inactive
}

enum Currency {
  USD
  RMB
  BTC
  ETH
  BNB
  USDT
  SOL
  XRP
  DOGE
}

model Transaction {
  id          String            @id @default(cuid())
  walletId    String
  amount      Float
  type        TransactionType
  status      TransactionStatus @default(pending)
  currency    Currency
  description String
  merchant    String?
  category    String
  date        DateTime          @default(now())
  createdAt   DateTime          @default(now())

  wallet      Wallet            @relation(fields: [walletId], references: [id], onDelete: Cascade)

  @@index([walletId])
}

enum TransactionType {
  credit   
  debit    
  recharge 
}

enum TransactionStatus {
  completed
  pending
  failed
}